(function(a){var b={},c=function(d){var e=b[d];if(!e){e=b[d]={};var f=e.exports={};a[d].call(f,c,e,f,window)}return e.exports};window.mobkit=c("0")})({0:function(a,b,c,d){"use strict";var e=a("1"),f=a("14"),g=a("16"),h=a("9"),i=a("e"),j=a("v"),k=a("u"),l=a("j"),m=a("m"),n=a("k"),o=a("n"),p=a("p"),q=a("q"),r=a("s");d.example=function(){var b=a("3"),c=a("17"),d=b({inherits:r,loadView:function(){this.view=new o,this.view.origin.x=0,this.view.origin.y=0,this.view.size.x=320,this.view.size.y=480,this.view.style.backgroundColor="#cbd2d8",this.view.style.backgroundImage="background.png",this.button=new g,this.button.size.x=200,this.button.size.y=44,this.button.origin.x=this.view.size.x/2-this.button.size.x/2,this.button.origin.y=this.view.size.y/2-this.button.size.y/2,this.button.label="Tap",this.view.addChild(this.button),this.button.on("touchend",this.bound("onButtonTap"))},onButtonTap:function(){var a=new o;a.origin.x=320,a.origin.y=0,a.size.x=320,a.size.y=480,a.style.backgroundColor="#67c0ea",this.view.addChild(a);var b=c(function(b){a.origin.x=b}),d=c(function(b){a.opacity=b});b.start(320,0,{equation:"ease-in-out"}),d.start(0,1,{equation:"ease-in-out"})}}),f=new d,h=new e;h.view.addChild(f.view)}},1:function(a,b,c,d){"use strict",b.exports=a("2")},2:function(a,b,c,d){"use strict";var e=a("3"),f=a("4"),g=a("8"),h=a("9"),i=a("j"),j=a("m"),k=a("k"),l=a("n"),m=a("q"),n=a("s"),o=a("e"),p=a("u"),q=a("v");a("w"),a("11");var r=b.exports=e({inherits:n,constructor:function(a){return r.parent.constructor.call(this),this.__size=a,this.__userTouches=new g,this.__viewTouches=new g,this},loadView:function(){this.view=new l,this.view.size=new k(320,480);var a=m.create(this.view);a.canvas.addEventListener("touchcancel",this.bound("__onTouchCancel")),a.canvas.addEventListener("touchstart",this.bound("__onTouchStart")),a.canvas.addEventListener("touchmove",this.bound("__onTouchMove")),a.canvas.addEventListener("touchend",this.bound("__onTouchEnd"))},__onTouchCancel:function(a){},__onTouchStart:function(a){var b=new g;f.each(a.changedTouches,function(a){var c=a.identifier,d=a.pageX,e=a.pageY,g=this.view.getViewAtPoint(d,e);if(g){var h=new p;h.__setTarget(g),h.__setOrigin(d,e);var i=b.get(g);i===null&&b.set(g,i=[]),f.push(i,h),this.__userTouches.set(a,h),this.__viewTouches.set(a,g)}},this),b.each(function(a,b){b.emit(new q("touchstart",!0,this.__userTouches.values()),a)},this)},__onTouchMove:function(a){var b=new g;f.each(a.changedTouches,function(a){var c=a.identifier,d=a.pageX,e=a.pageY,g=this.__userTouches.get(a),h=this.__viewTouches.get(a);g.__setOrigin(d,e);var i=b.get(h);i===null&&b.set(h,i=[]),f.push(i,g)},this),b.each(function(a,b){b.emit(new q("touchmove",!0,this.__userTouches.values()),a)},this)},__onTouchEnd:function(a){var b=new g;f.each(a.changedTouches,function(a){var c=a.identifier,d=a.pageX,e=a.pageY,g=this.__userTouches.get(a),h=this.__viewTouches.get(a);g.__setOrigin(d,e);var i=b.get(h);i===null&&b.set(h,i=[]),f.push(i,g),this.__userTouches.remove(a),this.__viewTouches.remove(a)},this),b.each(function(a,b){b.emit(new q("touchend",!0,this.__userTouches.values()),a)},this)}})},3:function(a,b,c,d){"use strict";var e=function(a,b){return Object.hasOwnProperty.call(a,b)},f=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a)===!1)break;return a};if(!{valueOf:0}.propertyIsEnumerable("valueOf")){var g="constructor,toString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString".split(","),h=Object.prototype;f=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a)===!1)return a;for(var f=0;d=g[f];f++){var i=a[d];if((i!==h[d]||e(a,d))&&b.call(c,i,d,a)===!1)break}return a}}var i=Object.create||function(a){var b=function(){};return b.prototype=a,new b},j=Object.getOwnPropertyDescriptor,k=Object.defineProperty;try{var l={a:1};j(l,"a"),k(l,"a",{value:2})}catch(m){j=function(a,b){return{value:a[b]}},k=function(a,b,c){return a[b]=c.value,a}}var n=function(a){return f(a,function(b,c){c!=="constructor"&&c!=="define"&&c!=="inherits"&&this.define(c,j(a,c)||{writable:!0,enumerable:!0,configurable:!0,value:b})},this),this},o=function(a){var b=a.inherits,c=e(a,"constructor")?a.constructor:b?function(){return b.apply(this,arguments)}:function(){};if(b){var d=b.prototype,f=c.prototype=i(d);c.parent=d,f.constructor=c}return c.define=a.define||b&&b.define||function(a,b){return k(this.prototype,a,b),this},c.implement=n,c.implement(a)};o.has=e,o.each=f,o.create=i,o.define=k,b.exports=o},4:function(a,b,c,d){"use strict";var e=a("5");b.exports=e.implement({set:function(a,b){return this[a]=b,this},get:function(a){return a in this?this[a]:null},count:function(){return this.length},each:function(a,b){for(var c=0,d=this.length;c<d;c++)if(c in this&&a.call(b,this[c],c,this)===!1)break;return this},backwards:function(a,b){for(var c=this.length-1;c>=0;c--)if(c in this&&a.call(b,this[c],c,this)===!1)break;return this},index:function(a){var b=e.indexOf(this,a);return b===-1?null:b},remove:function(a){return e.splice(this,a,1)[0]}})},5:function(a,b,c,d){"use strict";var e=a("6").array,f="pop,push,reverse,shift,sort,splice,unshift,concat,join,slice,toString,indexOf,lastIndexOf,forEach,every,some,filter,map,reduce,reduceRight".split(",");for(var g={},h=0,i,j;i=f[h++];)if(j=Array.prototype[i])g[i]=j;g.filter||(g.filter=function(a,b){var c=[];for(var d=0,e=this.length>>>0;d<e;d++)if(d in this){var f=this[d];a.call(b,f,d,this)&&c.push(f)}return c}),g.indexOf||(g.indexOf=function(a,b){for(var c=this.length>>>0,d=b<0?Math.max(0,c+b):b||0;d<c;d++)if(d in this&&this[d]===a)return d;return-1}),g.map||(g.map=function(a,b){var c=this.length>>>0,d=Array(c);for(var e=0,f=c;e<f;e++)e in this&&(d[e]=a.call(b,this[e],e,this));return d}),g.every||(g.every=function(a,b){for(var c=0,d=this.length>>>0;c<d;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0}),g.some||(g.some=function(a,b){for(var c=0,d=this.length>>>0;c<d;c++)if(c in this&&a.call(b,this[c],c,this))return!0;return!1}),g.forEach||(g.forEach=function(a,b){for(var c=0,d=this.length>>>0;c<d;c++)c in this&&a.call(b,this[c],c,this)});var k=Object.prototype.toString;e.isArray=Array.isArray||function(a){return k.call(a)==="[object Array]"},b.exports=e.implement(g)},6:function(a,b,c,d){"use strict";var e=a("3"),f=a("7"),g=Array.prototype.slice,h=e({constructor:function(b){this.valueOf=function(){return b},this.toString=function(){return b+""},this.is=function(a){return b===a}}}),i=function(a){if(a==null||a instanceof h)return a;var b=i[f(a)];return b?new b(a):a},j=function(){var a=e({inherits:h});return e({constructor:function(b){return new a(b)},define:function(b,c){var d=c.value;return this[b]=function(a){return arguments.length>1?d.apply(a,g.call(arguments,1)):d.call(a)},a.prototype[b]=function(){return i(d.apply(this.valueOf(),arguments))},e.define(this.prototype,b,c),this}})};for(var k="string,number,array,object,date,function,regexp".split(","),l=k.length;l--;)i[k[l]]=j();b.exports=i},7:function(a,b,c,d){"use strict";var e=Object.prototype.toString,f=/number|object|array|string|function|date|regexp|boolean/,g=function(a){if(a==null)return"null";var b=e.call(a).slice(8,-1).toLowerCase();return b==="number"&&isNaN(a)?"null":f.test(b)?b:"object"};b.exports=g},8:function(a,b,c,d){"use strict";var e=a("3"),f=a("5"),g=e({constructor:function(){if(!this||this.constructor!==g)return new g;this.length=0,this._values=[],this._keys=[]},set:function(a,b){var c=f.indexOf(this._keys,a);return c===-1?(this._keys.push(a),this._values.push(b),this.length++):this._values[c]=b,this},get:function(a){var b=f.indexOf(this._keys,a);return b===-1?null:this._values[b]},count:function(){return this.length},each:function(a,b){for(var c=0,d=this.length;c<d;c++)if(a.call(b,this._values[c],this._keys[c],this)===!1)break;return this},backwards:function(a,b){for(var c=this.length-1;c>=0;c--)if(a.call(b,this._values[c],this._keys[c],this)===!1)break;return this},map:function(a,b){var c=new g;return this.each(function(d,e){c.set(e,a.call(b,d,e,this))},this),c},filter:function(a,b){var c=new g;return this.each(function(d,e){a.call(b,d,e,this)&&c.set(e,d)},this),c},every:function(a,b){var c=!0;return this.each(function(d,e){if(!a.call(b,d,e,this))return c=!1},this),c},some:function(a,b){var c=!1;return this.each(function(d,e){if(a.call(b,d,e,this))return!(c=!0)},this),c},index:function(a){var b=f.indexOf(this._values,a);return b>-1?this._keys[b]:null},remove:function(a){var b=f.indexOf(this._keys,a);return b!==-1?(this._keys.splice(b,1),this.length--,this._values.splice(b,1)[0]):null},keys:function(){return this._keys.slice()},values:function(){return this._values.slice()}});b.exports=g},9:function(a,b,c,d){"use strict";var e=a("3"),f=a("4"),g=a("a"),h=a("d"),i=a("e");a("b"),a("g");var j=b.exports=e({addListener:function(a,b){a=a.toLowerCase();var c=this.__listeners||(this.__listeners={}),d=c[a];return d===undefined&&(d=c[a]=[]),f.index(d,b)===null&&f.push(d,b),this},hasListener:function(a,b){a=a.toLowerCase();var c=this.__listeners[a];return c===undefined?this:!!f.index(c,b)},removeListener:function(a,b){a=a.toLowerCase();var c=this.__listeners[a];return c===undefined?this:(f.remove(c,b),this)},removeListeners:function(a){return a?(a=a.toLowerCase(),delete this.__listeners[a],this):(this.__listeners=[],this)},on:function(){return this.addListener.apply(this,arguments)},off:function(){return this.removeListener.apply(this,arguments)},once:function(a,b){},emit:function(a){typeof a=="string"&&(a=new i(a,!1));var b=a.type,c=f.slice(arguments,1);a.source===null&&a.__setSource(this);var d=this.__listeners||(this.__listeners={}),e=d[b];if(e)for(var g=0,h=e.length;g<h;g++)e[g].apply(this,c);if(!a.bubbles||a.stopped)return this;var j=this.__responder;return j&&(arguments[0]=a,j.emit.apply(j,arguments)),this},insertResponder:function(a){var b=this.responder;b&&(a.responder=b),this.responder=a}});h(j,g),e.define(j.prototype,"responder",{set:function(a){this.__responder=a},get:function(){return this.__responder}})},a:function(a,b,c,d){"use strict";var e=a("3"),f=a("b"),g=e({bound:function(a){var b=this._bound||(this._bound={});return b[a]||(b[a]=f.bound(this[a],this))}});b.exports=g},b:function(a,b,c,d){"use strict";var e=a("c"),f=Array.prototype.slice;e.implement({bound:function(a){var b=f.call(arguments,1),c=this;return function(){return c.apply(a,b.concat(f.call(arguments)))}}}),b.exports=e},c:function(a,b,c,d){"use strict";var e=a("6")["function"],f="apply,bind,call,isGenerator,toString".split(",");for(var g={},h=0,i,j;i=f[h++];)if(j=Function.prototype[i])g[i]=j;b.exports=e.implement(g)},d:function(a,b,c,d){function g(a){var b=f.call(arguments,1);for(var c=0;c<b.length;c++)a.implement(e.create(b[c].prototype));return a}"use strict";var e=a("3"),f=Array.prototype.slice;b.exports=g},e:function(a,b,c,d){"use strict",b.exports=a("f")},f:function(a,b,c,d){"use strict";var e=a("3"),f=b.exports=e({constructor:function(a,b){return this.__type=a.toLowerCase(),this.__source=null,this.__bubbles=b||!0,this.__stopped=!1,this.__timestamp=Date.now(),this},stop:function(){return this.__stopped=!0,this},__setSource:function(a){this.__source=a}});e.define(f.prototype,"type",{get:function(){return this.__type}}),e.define(f.prototype,"bubbles",{get:function(){return this.__bubbles}}),e.define(f.prototype,"stopped",{get:function(){return this.__stopped}}),e.define(f.prototype,"source",{get:function(){return this.__source}}),e.define(f.prototype,"timestamp",{get:function(){return this.__timestamp}})},g:function(a,b,c,d){"use strict";var e=a("5"),f=a("h");e.implement({clean:function(){return e.filter(this,function(a){return a!==null&&a!==undefined})},invoke:function(a){var b=e.slice(arguments,1);return e.map(this,function(c){return c[a].apply(c,b)})},associate:function(a){var b={},c=Math.min(this.length,a.length);for(var d=0;d<c;d++)b[a[d]]=this[d];return b},contains:function(a,b){return e.indexOf(this,a,b)!=-1},append:function(a){return this.push.apply(this,a),this},last:function(){return this.length?this[this.length-1]:null},random:function(){return this.length?this[f.random(0,this.length-1)]:null},include:function(a){return e.contains(this,a)||e.push(this,a),this},combine:function(a){for(var b=0,c=a.length;b<c;b++)e.include(this,a[b]);return this},empty:function(){return this.length=0,this},pick:function(){for(var a=0,b=this.length;a<b;a++)if(this[a]!==null&&this[a]!==undefined)return this[a];return null},find:function(a,b){for(var c=0,d=this.length;c<d;c++){var e=this[c];if(a.call(b,e,c,this))return e}return null}}),b.exports=e},h:function(a,b,c,d){"use strict";var e=a("i");b.exports=e.implement({limit:function(a,b){return Math.min(b,Math.max(a,this))},round:function(a){return a=Math.pow(10,a||0).toFixed(a<0?-a:0),Math.round(this*a)/a},times:function(a,b){for(var c=0;c<this;c++)a.call(b,c,null,this);return this},random:function(a){return Math.floor(Math.random()*(a-this+1)+this)}})},i:function(a,b,c,d){"use strict";var e=a("6").number,f="toExponential,toFixed,toLocaleString,toPrecision,toString,valueOf".split(",");for(var g={},h=0,i,j;i=f[h++];)if(j=Number.prototype[i])g[i]=j;b.exports=e.implement(g)},j:function(a,b,c,d){"use strict";var e=a("3"),f=a("d"),g=a("k"),h=a("m"),i=a("9"),j=a("l"),k=b.exports=e({constructor:function(a,b,c,d){var e=arguments[0];return e instanceof k&&(a=e.origin.x,b=e.origin.y,c=e.size.x,d=e.size.y),this.origin=new g(a,b),this.size=new h(c,d),this}});f(k,i),f(k,j),j.define(k,"origin",{value:function(){return new g(0,0)}}),j.define(k,"size",{value:function(){return new h(0,0)}}),k.union=function(a,b){var c=Math.min(a.origin.x,b.origin.x),d=Math.min(a.origin.y,b.origin.y),e=Math.max(a.origin.x+a.size.x,b.origin.x+b.size.x),f=Math.max(a.origin.y+a.size.y,b.origin.x+b.size.y);return new k(c,d,e-c,f-d)}},k:function(a,b,c,d){"use strict";var e=a("3"),f=a("d"),g=a("9"),h=a("l"),i=b.exports=e({constructor:function(a,b){var c=arguments[0];return c instanceof i&&(a=c.x,b=c.y),this.x=a||0,this.y=b||0,this}});f(i,g),f(i,h),h.define(i,"x",{value:0}),h.define(i,"y",{value:0})},l:function(a,b,c,d){"use strict";var e=a("3"),f=a("d"),g=b.exports=e({});g.define=function(a,b,c){var d=null,e=null,f=a.parent;if(f){var g=Object.getOwnPropertyDescriptor(f,b);g&&(d=f.set,e=f.get)}c=c||{};var h=a.prototype||a,i=c.bound||"__"+b,j=c.value||null,k=c.writable||!0,l=c.onSet||function(){},m=c.onGet||function(){};!typeof j==="function"&&(j=function(){return j});var n=function(a){if(!k)throw new Error("Property "+b+" is read-only");var c=this[i],e=l.call(this,a,c,d);e===undefined&&(e=a);if(c===e)return;this[i]=e,this.emit&&this.emit("propertychange",b,e)},o=function(){var a=i in this?this[i]:this[i]=j.call(this),b=m.call(this,a,e);return b==undefined&&(b=a),b};Object.defineProperty(h,b,{set:n,get:o})}},m:function(a,b,c,d){"use strict";var e=a("3"),f=a("d"),g=a("9"),h=a("l"),i=b.exports=e({constructor:function(a,b){var c=arguments[0];return c instanceof i&&(a=c.x,b=c.y),this.x=a||0,this.y=b||0,this}});f(i,g),f(i,h),h.define(i,"x",{value:0}),h.define(i,"y",{value:0})},n:function(a,b,c,d){"use strict",b.exports=a("o")},o:function(a,b,c,d){"use strict";var e=a("3"),f=a("4"),g=a("9"),h=a("j"),i=a("m"),j=a("k"),k=a("p"),l=a("q");a("g");var m=b.exports=e({inherits:g,constructor:function(a){return this.__name=a,this.__style=new k(this),this.__opacity=1,this.__visible=!0,this.__parent=null,this.__window=null,this.__children=[],this.origin=new j(0,0),this.center=new j(0,0),this.size=new i,this.on("add",this.bound("onAdd")),this.on("remove",this.bound("onRemove")),this.on("addtoparent",this.bound("onAddToParent")),this.on("addtowindow",this.bound("onAddToWindow")),this.on("removefromparent",this.bound("onRemoveFromParent")),this.on("removefromwindow",this.bound("onRemoveFromWindow")),this.on("touchcancel",this.bound("onTouchCancel")),this.on("touchstart",this.bound("onTouchStart")),this.on("touchmove",this.bound("onTouchMove")),this.on("touchend",this.bound("onTouchEnd")),this},destroy:function(){return this.removeFromParent(),this.__name=null,this.__style.destroy(),this.__style=null,this.__opacity=null,this.__visible=null,this.__origin.on("propertychange",this.bound("__onOriginChange")),this.__center.on("propertychange",this.bound("__onCenterChange")),this.__size.on("propertychange",this.bound("__onSizeChange")),this.__origin=null,this.__center=null,this.__size=null,this.__parent=null,this.__window=null,this.__children=null,this.off("add",this.bound("onAdd")),this.off("remove",this.bound("onRemove")),this.off("addtoparent",this.bound("onAddToParent")),this.off("addtowindow",this.bound("onAddToWindow")),this.off("removefromparent",this.bound("onRemoveFromParent")),this.off("removefromwindow",this.bound("onRemoveFromWindow")),this.off("touchcancel",this.bound("onTouchCancel")),this.off("touchstart",this.bound("onTouchStart")),this.off("touchmove",this.bound("onTouchMove")),this.off("touchend",this.bound("onTouchEnd")),this.removeListeners(),l.free(this),this},moveTo:function(a,b){return a=a||0,b=b||0,this.origin=new j(a,b),this},moveBy:function(a,b){var c=this.origin;return c.x+=a||0,c.y+=b||0,this.origin=c,this},resizeTo:function(a,b){return a=a||0,b=b||0,this.size=new i(a,b),this},resizeBy:function(a,b){var c=this.size;return c.x+=a||0,c.y+=b||0,this.size=c,this},addChild:function(a){return this.addChildAt(a,this.__children.length)},addChildAt:function(a,b){var c=this.__children;if(b>c.length||b<0)return;return a.removeFromParent(),f.splice(c,b,1,a),a.responder=this,a.__setParent(this),a.__setWindow(this.window),this.emit("add",a),this.reflow()},addChildBefore:function(a,b){var c=this.getChildIndex(b);return c===null?this:this.addChildAt(a,c)},addChildAfter:function(a,b){var c=this.getChildIndex(before);return c===null?this:this.addChildAt(a,c+1)},removeChild:function(a,b){var c=this.getChildIndex(a);return c===null?this:this.removeChildAt(c,b)},removeChildAt:function(a,b){var c=this.__children,d=c[a];return d===undefined?this:(f.splice(c,a,1),d.__setParent(null),d.__setWindow(null),d.responder=null,this.emit("remove",d),b&&d.destroy(),this.reflow())},removeFromParent:function(a){return this.__parent&&this.__parent.removeChild(this,a),this},getChild:function(a){return f.find(this.__children,function(b){return b.name===a})},getChildAt:function(a){return this.__children[a]||null},getChildByTypeAt:function(a,b){return this},getChildIndex:function(a){return f.indexOf(this.__children,a)},getViewAtPoint:function(a,b){if(this.contains(a,b)===!1)return null;var c=this.__children;for(var d=c.length-1;d>=0;d--){var e=c[d];if(e.contains(a,b)){var f=e.origin,g=a-f.x,h=b-f.y;return e.getViewAtPoint(g,h)||e}}return null},contains:function(a,b){var c=arguments[0];c instanceof j&&(a=c.x,b=c.y);var d=this.__size,e=this.__origin;return a>=e.x&&a<=e.x+d.x&&b>=e.y&&b<=e.y+d.y},draw:function(a,b){return this.__style&&this.__style.draw(a,b),this},redraw:function(a){return l.redraw(this,a||new h(0,0,this.__size.x,this.__size.y)),this},reflow:function(){return l.reflow(this),this},onAdd:function(a){},onRemove:function(a){},onAddToParent:function(a){},onAddToWindow:function(a){},onRemoveFromParent:function(a){},onRemoveFromWindow:function(a){},onTouchCancel:function(a){},onTouchStart:function(a){},onTouchMove:function(a){},onTouchEnd:function(a){},__setParent:function(a){var b=this.__parent;return b&&a===null?(this.__parent=a,this.emit("removefromparent",b)):b===null&&a?(this.__parent=a,this.emit("addtoparent",b)):this},__setWindow:function(a){var b=this.__window;return b&&a===null?(this.__window=a,this.emit("removefromwindow",b)):b===null&&a?(this.__window=a,this.emit("addtowindow",b)):this},__onSizeChange:function(a,b,c){var d=this.__origin,e=this.__center;switch(a){case"x":e.x=d.x+b/2;break;case"y":e.y=d.y+b/2}this.reflow()},__onOriginChange:function(a,b,c){var d=this.__size,e=this.__center;switch(a){case"x":e.x=b+d.x/2;break;case"y":e.y=b+d.y/2}this.reflow()},__onCenterChange:function(a,b,c){var d=this.__size,e=this.__origin;switch(a){case"x":e.x=b-d.x/2;break;case"y":e.y=b-d.y/2}this.reflow()},__onAddToWindow:function(a){this.__window=a,f.invoke(this.__children,"emit","addtowindow",a)},__onRemoveFromWindow:function(a){this.__window=null,f.invoke(this.__children,"emit","removefromwindow",a)}});e.define(m.prototype,"name",{get:function(){return this.__name}}),e.define(m.prototype,"size",{set:function(a){var b=this.bound("__onSizeChange"),c=this.__size;c&&c.off("propertychange",b),c=this.__size=a,c.on("propertychange",b),(c.x!==a.x||c.y!==a.y)&&this.emit("resize").reflow()},get:function(){return this.__size}}),e.define(m.prototype,"origin",{set:function(a){var b=this.bound("__onOriginChange"),c=this.__origin;c&&c.off("propertychange",b),c=this.__origin=a,c.on("propertychange",b),(c.x!==a.x||c.y!==a.y)&&this.emit("move").reflow()},get:function(){return this.__origin}}),e.define(m.prototype,"center",{set:function(a){var b=this.bound("__onCenterChange"),c=this.__center;c&&c.off("propertychange",b),c=this.__center=a,c.on("propertychange",b),(c.x!==a.x||c.y!==a.y)&&this.emit("move").reflow()},get:function(){return this.__center}}),e.define(m.prototype,"visible",{set:function(a){this.__visible!==a&&(this.__visible=a,this.reflow())},get:function(){return this.__visible}}),e.define(m.prototype,"opacity",{set:function(a){a>1&&(a=1),a<0&&(a=0),this.__opacity!==a&&(this.__opacity=a,this.reflow())},get:function(){return this.__opacity}}),e.define(m.prototype,"style",{set:function(a){this.__style=a},get:function(){return this.__style}}),e.define(m.prototype,"parent",{get:function(){return this.__parent}}),e.define(m.prototype,"window",{get:function(){return this.__window}}),e.define(m.prototype,"children",{get:function(){return f.slice(this.__children)}})},p:function(a,b,c,d){"use strict";var e=a("3"),f=a("4"),g=a("d"),h=a("a"),i=b.exports=e({constructor:function(a){return this.__view=a,this.__backgroundColor="",this.__backgroundImage="",this.__backgroundRepeat="",this},destroy:function(){return this.__view=null,this},draw:function(a,b){var c=b.origin.x,d=b.origin.y,e=b.size.x,f=b.size.y,g=this.__backgroundColor;g&&(a.fillStyle=g,a.fillRect(c,d,e,f));var h=this.__backgroundImage;if(h&&h.naturalWidth&&h.naturalHeight){var i=a.createPattern(h,this.__backgroundRepeat||"repeat");a.fillStyle=i,a.fillRect(c,d,e,f)}},__onBackgroundImageLoad:function(){this.view.redraw()}});g(i,h),e.define(i.prototype,"view",{get:function(){return this.__view}}),e.define(i.prototype,"backgroundColor",{set:function(a){this.__backgroundColor!==a&&(this.__backgroundColor=a,this.view.redraw())},get:function(){return this.__backgroundColor}}),e.define(i.prototype,"backgroundImage",{set:function(a){this.__backgroundImage&&(this.__backgroundImage.removeEventListener("load",this.bound("__onBackgroundImageLoad")),this.__backgroundImage=null),this.__backgroundImage=new Image,this.__backgroundImage.src=a,this.__backgroundImage.addEventListener("load",this.bound("__onBackgroundImageLoad"))},get:function(){return this.__backgroundImage&&this.__backgroundImage.src||""}})},q:function(a,b,c,d){"use strict";var e=a("3"),f=a("8"),g=a("r").request,h=a("r").cancel,i=a("j"),j=a("m"),k=a("k"),l=a("9"),m=new f,n=new f,o=new f,p=b.exports=e({inherits:l,constructor:function(a){this.__view=a,this.__canvas=document.createElement("canvas"),this.__canvas.width=this.__view.size.x,this.__canvas.height=this.__view.size.y,document.body.appendChild(this.__canvas),this.__context=this.__canvas.getContext("2d"),this.__nextFrame=null},redraw:function(a,b){var c=n.get(a);return c?c=i.union(c,b):c=b,n.set(a,c),this.__nextFrame===null&&(this.__nextFrame=g(this.render.bind(this))),this},reflow:function(a){return this.__nextFrame===null&&(this.__nextFrame=g(this.render.bind(this))),this},render:function(){this.__nextFrame=null;if(this.__view===null)return;this.__context.clearRect(0,0,this.__view.size.x,this.__view.size.y);var a=this,b=function(c,d){if(c.visible===!1)return;var e=null,f=m.get(c);f===null&&(f=document.createElement("canvas"),f.width=c.size.x,f.height=c.size.y,e=f.getContext("2d"),e.save(),c.draw(e,new i(0,0,c.size.x,c.size.y)),e.restore(),m.set(c,f),n.remove(c));var g=n.get(c);g&&(e=f.getContext("2d"),e.save(),e.rect(g.origin.x,g.origin.y,g.size.x,g.size.y),e.clip(),c.draw(e,g),e.restore(),n.remove(c));var h=new k(d.x+c.origin.x,d.y+c.origin.y);a.__context.save(),a.__context.globalAlpha=c.opacity,a.__context.drawImage(f,0,0,c.size.x,c.size.y,h.x,h.y,c.size.x,c.size.y);var j=c.children;for(var l=0;l<j.length;l++)b(j[l],h);a.__context.restore()};return b(this.__view,new k),this}});e.define(p.prototype,"canvas",{get:function(){return this.__canvas}});var q=function(a){while(a.parent)a=a.parent;return a};p.create=function(a){var b=o.get(a);if(b)throw new Error("There is already a renderer assocaited with this view");return b=new p(a),o.set(a,b),b},p.get=function(a){var b=o.get(q(a));return b?b:null},p.redraw=function(a,b){var c=p.get(a);return c&&c.redraw(a,b),this},p.reflow=function(a){var b=p.get(a);return b&&b.reflow(a),this},p.free=function(a){var b=m.get(a);b&&(b.width=0,bugger.height=0),m.remove(a),n.remove(a)}},r:function(a,b,c,d){"use strict";var e=a("5"),f=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||d.msRequestAnimationFrame||function(a){return setTimeout(a,1e3/60)},g=[],h=function(a){var b=g.splice(0,g.length);for(var c=0,d=b.length;c<d;c++)b[c](a||(a=+(new Date)))},i=function(a){var b=e.indexOf(g,a);b>-1&&g.splice(b,1)},j=function(a){var b=g.push(a);return b===1&&f(h),function(){i(a)}};c.request=j,c.cancel=i},s:function(a,b,c,d){"use strict",b.exports=a("t")},t:function(a,b,c,d){"use strict";var e=a("3"),f=a("4"),g=a("9"),h=a("n"),i=b.exports=e({inherits:g,constructor:function(){i.parent.constructor.call(this),this.__view=null,this.loadView(),this.view.insertResponder(this),this.on("touchcancel",this.bound("onTouchCancel")),this.on("touchstart",this.bound("onTouchStart")),this.on("touchmove",this.bound("onTouchMove")),this.on("touchend",this.bound("onTouchEnd"))},destroy:function(){this.off("touchcancel",this.bound("onTouchCancel")),this.off("touchstart",this.bound("onTouchStart")),this.off("touchmove",this.bound("onTouchMove")),this.off("touchend",this.bound("onTouchEnd"))},loadView:function(){this.view=new h},onTouchCancel:function(){},onTouchStart:function(){},onTouchMove:function(){},onTouchEnd:function(){}});e.define(i.prototype,"view",{set:function(a){this.__view=a},get:function(a){return this.__view}})},u:function(a,b,c,d){"use strict";var e=a("3"),f=a("k"),g=b.exports=e({constructor:function(a,b,c){return this.__identifier=Date.now(),this.__setTarget(a),this.__setOrigin(b,c),this},__setOrigin:function(a,b){return this.__origin=new f(a,b),this},__setTarget:function(a){return this.__target=a,this}});e.define(g.prototype,"identifier",{get:function(){return this.__identifier}}),e.define(g.prototype,"target",{get:function(){return this.__target}}),e.define(g.prototype,"origin",{get:function(){return new f(this.__origin)}})},v:function(a,b,c,d){"use strict";var e=a("3"),f=a("4"),g=a("f"),h=b.exports=e({inherits:g,constructor:function(a,b,c){return h.parent.constructor.call(this,a,b),this.__touches=f.slice(c),this}});e.define(h.prototype,"touches",{get:function(){return this.__touches}})},w:function(a,b,c,d){"use strict",a("x"),a("z"),a("10")},x:function(a,b,c,d){"use strict";var e=a("y").createStorage(),f={},g=Element.prototype.dispatchEvent,h=Element.prototype.addEventListener,i=Element.prototype.removeEventListener;Element.prototype.dispatchEvent=function(a,b){var c=f[a];if(c){b=b||{};if(n(c.condition,this,b))return;var d=a;a=document.createEvent("CustomEvent"),a.initCustomEvent(d,c.bubbleable,c.cancelable),c.onDispatch.call(this,a,b)}return g.call(this,a)},Element.prototype.addEventListener=function(a,b,c){var d=f[a];if(d){d.onAdd.call(this),b=r(this,a,b);var e=l(d);e&&h.call(this,e,q(this,a,b),c)}return h.call(this,a,b,c)},Element.prototype.removeEventListener=function(a,b,c){var d=f[a];if(d){d.onRemove.call(this),b=r(this,a,b);var e=l(d);e&&i.call(this,e,q(this,a,b),c),p(this,a,b)}return i.call(this,a,b,c)};var j=function(a,b){b.base="base"in b?b.base:null,b.condition="condition"in b?b.condition:!0,b.bubbleable="bubbleable"in b?b.bubbleable:!0,b.cancelable="cancelable"in b?b.cancelable:!0,b.onAdd=b.onAdd||function(){},b.onRemove=b.onRemove||function(){},b.onDispatch=b.onDispatch||function(){};var c=f[b.base],d=function(a){return m(c.condition,this,a)&&m(b.condition,this,a)};f[a]=c?{base:c.base,bubbleable:b.bubbleable,cancelable:b.cancelable,condition:d,onAdd:k(b,c,"onAdd"),onRemove:k(b,c,"onRemove"),onDispatch:k(b,c,"onDispatch")}:b},k=function(a,b,c){return function(){b[c].apply(this,arguments),a[c].apply(this,arguments)}},l=function(a){var b=a.base;if(b===null)return null;var c=f[b];return c?l(c):b},m=function(a,b,c){return typeof a=="function"?a.call(b,c):a},n=function(a,b,c){return!m(a,b,c)},o=function(a,b,c){var d=e(a);d[b]===undefined&&(d[b]=[]),d=d[b];for(var f=0,g=d.length;f<g;f++){var h=d[f];if(h.listener===c)return h}return h=d[d.length]={dispatch:null,validate:null,listener:c},h},p=function(a,b,c){var d=e(a);if(d[b]===undefined)return;d=d[b];for(var f=0,g=d.length;f<g;f++){var h=d[f];h.listener===c&&d.splice(f,1)}return h},q=function(a,b,c){var d=o(a,b,c);return d.dispatch===null&&(d.dispatch=function(c){a.dispatchEvent(b,c)}),d.dispatch},r=function(a,b,c){var d=o(a,b,c);return d.validate===null&&(d.validate=function(a){a instanceof CustomEvent&&c.call(this,a)}),d.validate};b.exports=d.defineCustomEvent=j},y:function(require,module,exports,global){void function(a,b,c){function j(a,b,c){return typeof b=="function"&&(c=b,b=k(c).replace(/_$/,"")),e(a,b,{configurable:!0,writable:!0,value:c})}function k(a){return typeof a!="function"?"":"name"in a?a.name:f.call(a).match(i)[1]}function o(a){function d(d,e){return e||arguments.length===2?b.set(d,e):(e=b.get(d),e===c&&(e=a(d),b.set(d,e))),e}var b=new m;return a||(a=n),d}var d=Object.getOwnPropertyNames,e=Object.defineProperty,f=Function.prototype.toString,g=Object.create,h=Object.prototype.hasOwnProperty,i=/^\n?function\s?(\w*)?_?\(/,l=function(){function m(){var c=i(),d={};this.unlock=function(f){var i=l(f);if(h.call(i,c))return i[c](d);var j=g(null,a);return e(i,c,{value:(new Function("s","l",b))(d,j)}),j}}var a={value:{writable:!0,value:c}},b="return function(k){if(k===s)return l}",f=g(null),i=function(){var a=Math.random().toString(36).slice(2);return a in f?i():f[a]=a},k=i(),l=function(a){if(h.call(a,k))return a[k];if(!Object.isExtensible(a))throw new TypeError("Object must be extensible");var b=g(null);return e(a,k,{value:b}),b};return j(Object,function(b){var c=d(b);return h.call(b,k)&&c.splice(c.indexOf(k),1),c}),j(m.prototype,function(b){return this.unlock(b).value}),j(m.prototype,function(b,c){this.unlock(b).value=c}),m}(),m=function(d){function i(b){if(this===a||this==null||this===i.prototype)return new i(b);f(this,new l),h(this,b)}function m(a){e(a);var d=g(this).get(a);return d===b?c:d}function n(a,d){e(a),g(this).set(a,d===c?b:d)}function o(a){return e(a),g(this).get(a)!==c}function p(a){e(a);var b=g(this),d=b.get(a)!==c;return b.set(a,c),d}function q(){return g(this),"[object WeakMap]"}var e=function(a){if(a==null||typeof a!="object"&&typeof a!="function")throw new TypeError("Invalid WeakMap key")},f=function(a,b){var c=d.unlock(a);if(c.value)throw new TypeError("Object is already a WeakMap");c.value=b},g=function(a){var b=d.unlock(a).value;if(!b)throw new TypeError("WeakMap is not generic");return b},h=function(a,b){b!==null&&typeof b=="object"&&typeof b.forEach=="function"&&b.forEach(function(c,d){c instanceof Array&&c.length===2&&n.call(a,b[d][0],b[d][1])})};try{var r=("return "+p).replace("e_","\\u0065"),s=(new Function("unwrap","validate",r))(g,e)}catch(t){var s=p}var r=(""+Object).split("Object"),u=function w(){return r[0]+k(this)+r[1]};j(u,u);var v={__proto__:[]}instanceof Array?function(a){a.__proto__=u}:function(a){j(a,u)};return v(i),[q,m,n,o,s].forEach(function(a){j(i.prototype,a),v(a)}),i}(new l),n=Object.create?function(){return Object.create(null)}:function(){return{}};typeof module!="undefined"?module.exports=m:typeof exports!="undefined"?exports.WeakMap=m:"WeakMap"in a||(a.WeakMap=m),m.createStorage=o,a.WeakMap&&(a.WeakMap.createStorage=o)}((0,eval)("this"))},z:function(a,b,c,d){"use strict";var e=a("x"),f=document.createElement("div"),g=null,h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};for(var i in h)i in f.style&&(g=h[i]);var j=function(a,b){a.propertyName=b.propertyName,a.elapsedTime=b.elapsedTime,a.pseudoElement=b.pseudoElement};e("transitionend",{base:g,onDispatch:j}),e("owntransitionend",{base:"transitionend",condition:function(a){return a.target===this}})},10:function(a,b,c,d){"use strict";var e=a("x"),f=document.createElement("div"),g=null,h={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var i in h)i in f.style&&(g=h[i]);var j=function(a,b){a.animationName=b.animationName,a.elapsedTime=b.elapsedTime};e("animationend",{base:g,onDispatch:j}),e("ownanimationend",{base:"animationend",condition:function(a){return a.target===this}})},11:function(a,b,c,d){"use strict",a("12"),a("13")},12:function(a,b,c,d){"use strict";var e="ontouchstart"in d,f="TouchList"in d,g="Touch"in d;if(!f){var h=function(){this.length=0};h.prototype.identifiedTouch=function(a){return this[0]&&this[0].identifier===a?this[0]:null},h.prototype.item=function(a){return this[a]||null}}if(!g)var i=function(){};var j=null,k=null,l=function(a){if(k===null){k=a.target,j=new i,j.identifier=Date.now(),j.screenX=a.screenX,j.screenY=a.screenY,j.clientX=a.clientX,j.clientY=a.clientY,j.pageX=a.pageX,j.pageY=a.pageY,j.radiusX=0,j.radiusY=0,j.rotationAngle=0,j.force=0,j.target=k;var b=new h;b.length=1,b[0]=j;var c=document.createEvent("CustomEvent");c.initCustomEvent("touchstart",!0,!0),c.touches=b,c.targetTouches=b,c.changedTouches=b,k.dispatchEvent(c)}},m=function(a){if(k){j.screenX=a.screenX,j.screenY=a.screenY,j.clientX=a.clientX,j.clientY=a.clientY,j.pageX=a.pageX,j.pageY=a.pageY;var b=new h;b.length=1,b[0]=j;var c=document.createEvent("CustomEvent");c.initCustomEvent("touchmove",!0,!0),c.touches=b,c.targetTouches=b,c.changedTouches=b,k.dispatchEvent(c)}},n=function(a){if(k){j.screenX=a.screenX,j.screenY=a.screenY,j.clientX=a.clientX,j.clientY=a.clientY,j.pageX=a.pageX,j.pageY=a.pageY;var b=new h;b.length=1,b[0]=j;var c=document.createEvent("CustomEvent");c.initCustomEvent("touchend",!0,!0),c.touches=new h,c.targetTouches=new h,c.changedTouches=b,k.dispatchEvent(c),k=null}};e||(document.addEventListener("mousedown",l),document.addEventListener("mousemove",m),document.addEventListener("mouseup",n))},13:function(a,b,c,d){"use strict";var e=a("y")(),f=a("x"),g=function(a,b){a.view=b.view,a.touches=b.touches,a.targetTouches=b.targetTouches,a.changedTouches=b.changedTouches,a.ctrlKey=b.ctrlKey,a.shiftKey=b.shiftKey,a.altKey=b.altKey,a.metaKey=b.metaKey},h=function(a,b){return a===b||a.contains(b)},i=function(a,b,c){var d=document.elementFromPoint(a,b);return d?h(c,d):!1},j=function(a,b,c){var d=document.elementFromPoint(a,b);return d?!h(c,d):!0},k=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},l=function(a,b){return function(){this.addEventListener(a,b)}},m=function(a,b){return function(){this.removeEventListener(a,b)}},n=function(a,b){var c=e.get(a);return c||e.set(a,c={}),c},o=function(a,b){var c=n(a),d=b.identifier;return c[d]===undefined||c[d]==="out"?(c[d]="in",!0):!1},p=function(a,b){var c=n(a),d=b.identifier;return c[d]===undefined||c[d]==="in"?(c[d]="out",!0):!1},q=function(a){this.dispatchEvent("tapenter",a)},r=function(a){this.dispatchEvent("tapleave",a)},s={onDispatch:g};f("tapstart",k(s,{base:"touchstart",condition:function(a){return a.targetTouches.length===1}})),f("tapmove",k(s,{base:"touchmove",condition:function(a){return a.targetTouches[0]===a.changedTouches[0]}})),f("tapend",k(s,{base:"touchend",condition:function(a){return a.targetTouches.length===0}})),f("tapcancel",k(s,{base:"touchcancel",condition:function(a){return!0}})),f("tap",k(s,{base:"tapend",condition:function(a){var b=a.changedTouches[0];return i(b.pageX,b.pageY,this)}})),f("tapinside",k(s,{base:"tapmove",condition:function(a){var b=a.targetTouches[0];return i(b.pageX,b.pageY,this)}})),f("tapoutside",k(s,{base:"tapmove",condition:function(a){var b=a.targetTouches[0];return j(b.pageX,b.pageY,this)}})),f("tapenter",k(s,{base:"tapinside",condition:function(a){return o(this,a.targetTouches[0])},onAdd:l("tapstart",q),onRemove:m("tapstart",q)})),f("tapleave",k(s,{base:"tapoutside",condition:function(a){return p(this,a.targetTouches[0])},onAdd:l("tapend",r),onRemove:m("tapend",r)}))},14:function(a,b,c,d){"use strict",b.exports=a("15")},15:function(a,b,c,d){"use strict";var e=a("3"),f=a("4"),g=a("n"),h=b.exports=e({inherits:g})},16:function(a,b,c,d){"use strict";var e=a("3"),f=a("15"),g=b.exports=e({inherits:f,constructor:function(){g.parent.constructor.apply(this,arguments),this.style.backgroundColor="#fff",this.__label=""},onTouchStart:function(a,b){g.parent.onTouchStart.call(this,a,b),this.style.backgroundColor="#26a7e9"},onTouchEnd:function(a,b){g.parent.onTouchEnd.call(this,a,b),this.style.backgroundColor="#fff"},draw:function(a,b){g.parent.draw.apply(this,arguments),a.font="17px Arial",a.fillStyle="#000",a.textAlign="center",a.fillText(this.__label,b.size.x/2,b.size.y/2+8.5)}});e.define(g.prototype,"label",{set:function(a){this.__label=a,this.redraw()},get:function(){return this.__label}})},17:function(a,b,c,d){"use strict";var e=a("3"),f=a("r").request,g=a("18"),h=a("5").map,i="([\\d.]+)(s|ms)?",j="cubic-bezier\\(([-.\\d]+),([-.\\d]+),([-.\\d]+),([-.\\d]+)\\)",k=RegExp(i),l=RegExp(j),m=RegExp(j,"g"),n={"default":"cubic-bezier(0.25, 0.1, 0.25, 1.0)",linear:"cubic-bezier(0, 0, 1, 1)","ease-in":"cubic-bezier(0.42, 0, 1.0, 1.0)","ease-out":"cubic-bezier(0, 0, 0.58, 1.0)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1.0)"};n.ease=n["default"];var o=function(a,b,c){return(b-a)*c+a},p=function(a){var b=[],c=(a+"").replace(/[-.\d]+/g,function(a){return b.push(+a),"@"});return[b,c]},q=e({constructor:function(b,c){this.setOptions(c),this.render=b||function(){};var d=this;this.bStep=function(a){return d.step(a)},this.bExit=function(a){d.exit(a)}},setOptions:function(a){a==null&&(a={});if(!(this.duration=this.parseDuration(a.duration||"500ms")))throw new Error("invalid duration");if(!(this.equation=this.parseEquation(a.equation||"default")))throw new Error("invalid equation");return this.callback=a.callback||function(){},this},parseDuration:function(a){if(a=(a+"").match(k)){var b=+a[1],c=a[2]||"ms";if(c==="s")return b*1e3;if(c==="ms")return b}},parseEquation:function(a,b){var c=typeof a;if(c==="function")return a;if(c==="string"){a=n[a]||a;var d=a.replace(/\s+/g,"").match(l);if(d){a=h(d.slice(1),function(a){return+a});if(b)return a;if(a.toString()==="0,0,1,1")return function(a){return a};c="object"}}if(c==="object")return g(a[0],a[1],a[2],a[3],1e3/60/this.duration/4)},cancel:function(a){this.to=a,this.cancelExit=f(this.bExit)},exit:function(a){this.render(this.to),delete this.cancelExit,this.callback(a)},start:function(a,b){this.stop();if(this.duration===0)return this.cancel(b),this;this.isArray=!1,this.isNumber=!1;var c=typeof a,d=typeof b;c==="object"&&d==="object"?this.isArray=!0:c==="number"&&d==="number"&&(this.isNumber=!0);var e=p(a),g=p(b);return this.from=e[0],this.to=g[0],this.templateFrom=e[1],this.templateTo=g[1],this.from.length!==this.to.length||this.from.toString()===this.to.toString()?(this.cancel(b),this):(delete this.time,this.length=this.from.length,this.cancelStep=f(this.bStep),this)},stop:function(){return this.cancelExit?(this.cancelExit(),delete this.cancelExit):this.cancelStep&&(this.cancelStep(),delete this.cancelStep),this},step:function(a){this.time||(this.time=a);var b=(a-this.time)/this.duration;b>1&&(b=1);var c=this.equation(b),d=this.from,e=this.to,g=this.templateTo;for(var h=0,i=this.length;h<i;h++){var j=d[h],k=e[h];g=g.replace("@",k!==j?o(j,k,c):k)}this.render(this.isArray?g.split(","):this.isNumber?+g:g,b),b!==1?this.cancelStep=f(this.bStep):(delete this.cancelStep,this.callback(a))}}),r=function(a){var b=new q(a);return{start:function(a,c,d){var e=typeof d;return b.setOptions(e==="function"?{callback:d}:e==="string"||e==="number"?{duration:d}:d).start(a,c),this},stop:function(){return b.stop(),this}}};r.prototype=q.prototype,b.exports=r},18:function(a,b,c,d){b.exports=function(a,b,c,d,e){var f=function(b){var d=1-b;return 3*d*d*b*a+3*d*b*b*c+b*b*b},g=function(a){var c=1-a;return 3*c*c*a*b+3*c*a*a*d+a*a*a},h=function(b){var d=1-b;return 3*(2*(b-1)*b+d*d)*a+3*(-b*b*b+2*d*b)*c};return function(a){var b=a,c,d,i,j,k,l;for(i=b,l=0;l<8;l++){j=f(i)-b;if(Math.abs(j)<e)return g(i);k=h(i);if(Math.abs(k)<1e-6)break;i-=j/k}c=0,d=1,i=b;if(i<c)return g(c);if(i>d)return g(d);while(c<d){j=f(i);if(Math.abs(j-b)<e)return g(i);b>j?c=i:d=i,i=(d-c)*.5+c}return g(i)}}}})
